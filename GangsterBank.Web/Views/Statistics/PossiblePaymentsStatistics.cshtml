@{ Layout = null; }
@using GangsterBank.Web.Models.Statistics
<div class="k-content">
    @(Html.Kendo().Chart<SummaryLoanProductStatisticViewModel>()
      .Name("possiblePaymentsStatisticChart")
      .Title(title => title
                          .Text("Possible Payments Statistic")
                          .Position(ChartTitlePosition.Top))
      .Legend(legend => legend
                            .Visible(true)
                            .Position(ChartLegendPosition.Top)
      )
      .DataSource(ds =>
                          ds.Read(read => read.Action("PossiblePaymentsStatisticsData", "Statistics")))
      .Series(series =>
          {
              series.
                  Pie(model => model.Percentage, model => model.CategoryName)
                  .Labels(labels => labels
                                        .Template("#= category #: #= value#%")
                                        .Visible(true)
                  )
                  .StartAngle(150);
          })
      .Tooltip(tooltip => tooltip
                              .Visible(true)
    .Template("Total amount: #= dataItem.TotalAmount  #")

      ))
</div>
